@model OktaClone.Web.ViewModels.DashboardViewModel
@{
    ViewData["Title"] = "Dashboard";
}

<h1>Dashboard</h1>

<h2>My Apps</h2>
<div class="row">
    @foreach (var app in Model.AssignedApplications)
    {
        <div class="col-md-3">
            <div class="card mb-3">
                <div class="card-body">
                    <h5 class="card-title d-flex align-items-center">
                        @{ string imageUrl = "https://placehold.co/32x32/grey/white?text=App";
                           if (app.Name == "Salesforce") { imageUrl = "https://brandslogos.com/wp-content/uploads/images/salesforce-logo-1.png"; }
                           else if (app.Name == "Office 365") { imageUrl = "https://placehold.co/32x32/green/white?text=O365"; }
                        }
                        <img src="@imageUrl" alt="@app.Name Logo" class="me-2" style="border-radius: 5px;">
                        @app.Name
                    </h5>
                    <p class="card-text">@app.Description</p>
                    <a href="#" class="btn btn-primary btn-lg w-100 mt-3">Sign In</a>
                </div>
            </div>
        </div>
    }
</div>

<hr />

<h2>Available Apps</h2>
<div class="row">
    @foreach (var app in Model.UnassignedApplications)
    {
        <div class="col-md-3">
            <div class="card mb-3">
                <div class="card-body">
                    <h5 class="card-title d-flex align-items-center">
                        @{ string imageUrl = "https://placehold.co/32x32/grey/white?text=App";
                           if (app.Name == "Salesforce") { imageUrl = "https://brandslogos.com/wp-content/uploads/images/salesforce-logo-1.png"; }
                           else if (app.Name == "Office 365") { imageUrl = "https://placehold.co/32x32/green/white?text=O365"; }
                        }
                        <img src="@imageUrl" alt="@app.Name Logo" class="me-2" style="border-radius: 5px;">
                        @app.Name
                    </h5>
                    <p class="card-text">@app.Description</p>
                                        <form asp-action="RequestAccess" asp-controller="Dashboard" asp-route-id="@app.Id" method="post">
                        <button type="submit" class="btn btn-success btn-lg w-100 mt-3">Request Access</button>
                    </form>
                </div>
            </div>
        </div>
    }
</div>
